This folder contains files used to deploy on the proxy server of the corp challenge in CySCA2015.

# Packages to install
* tcpdump - Because we aren't cold blooded enough to make them compile from source or provide static binaries
* socat - ditto. Might help them with data tunnels
* squid3 - Needed for the open http proxy
* lighttpd - Needed to host the appliance information pages.
* xinetd - Needed to host the telnet restricted shell
* telnetd - Wraps the telnet protocol around our restricted shell.

# Restricted shell files
* restrictedshell - xinetd config file for ipv4 restricted shell `drop in /etc/xinetd.d`
* restrictedshellv6 - xinetd config file for ipv6 restricted shell `drop in /etc/xinetd.d/`
* restrictedshell.py - restricted shell python script containing a simple command injection to escalate to root. `drop in /usr/local/sbin/`
* update_token.py - a script that will generate a random token each time the system boots `drop in /usr/local/sbin/`
* rc.local - the rc.local file with an entry for update_token.py. This will make it run on each boot. `drop in /etc/`

# Web interface files
* lighttpd.conf - lighttpd config that binds the public web interface on 172.16.5.30 and the private one on 10.10.5.30 and fd00:bad:cafe::300 `drop in /etc/lighttpd`
* www `drop in /var`
  * internal/index.html - The internal interface page, containing private information about the appliance and a flag.
  * public/index.html - The public interface page. Contains plugs for synergistic cloud corp and leaks private addresses.

# Open proxy files
* squid.conf - Misconfigured squid proxy config that allows all systems to connect to anywhere, and doesn't cache any requests `drop in /etc/squid3/`
