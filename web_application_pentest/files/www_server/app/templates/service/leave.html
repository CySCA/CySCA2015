{% extends 'intranet.html' %} 

{% block box %}
  <div id="leave">
      <div class="row-label">
        Leave Details
      </div>

    <form id="leave-form" method="POST" action="/service/leave" onsubmit="return validateForm()" class="form-horizontal" role="form">
      <div class="input-group input-daterange ecwi-daterange" id="datepicker">
        <input type="text" class="input-sm form-control" name="start" />
        <span class="input-group-addon">to</span>
        <input type="text" class="input-sm form-control" name="end" /> 
			</div>
      <div class="input-group wide">
        <textarea id="leave-reason" class="form-control compose-textarea" rows="5" name="reason" placeholder="Enter reason"></textarea>
      </div>
      <div class="form-group center outer">
        <button type="submit" class="btn btn-default">Submit</button>
      </div>
    </form>
  </div>
{% endblock %}

{% block xscript %}
  <script src="/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
  <script>
    $('#leave .input-daterange').datepicker({
      todayBtn: "linked",
      autoclose: true,
      todayHighlight: true
    });

  function validateForm() {
    f = document.forms["leave-form"];
    f["reason"].value = make_me_safe(f["reason"].value); 
    return true;
  };
  </script>
{% endblock %}
